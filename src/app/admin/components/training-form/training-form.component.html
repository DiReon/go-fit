<div class="row">
    <div class="col-md-6">
        <form #f= "ngForm" (ngSubmit) = "save(f.value)">
            <div class="form-group">
                <label for="title">Название</label>
                <input #title="ngModel" [(ngModel)] = "training.title" name = "title" id= "title" type="text" class="form-control" required>
                <div class="alert alert-danger" *ngIf="title.touched && title.invalid">Введите, пожалуйста, название</div>
            </div>
            <div class="form-group">
                <label for="videoUrl">Ссылка на видео</label>
                <input #videoUrl = "ngModel" [(ngModel)] = "training.videoUrl" name = "videoUrl" id= "videoUrl" type="URL" class="form-control" required>
                <div class="alert alert-danger" *ngIf="videoUrl.touched && videoUrl.invalid">Нужна ссылка на видео</div>
            </div>
            <upload-files 
                [urls] = "urls"
                [training] = "training" 
                [type] = "'training'"
                (upload) = "onUploadFile($event)"
                (uploadIsValid) = "uploadValidTrigger($event)">
            </upload-files>

            <div class="container">
                <div class="row">
                    <div class="col align-self-start">
                        <div class="form-group">
                            <label for="month">Месяц</label>
                            <select #month="ngModel" [(ngModel)] = "activeMonth" name = "month" id= "month" type="text" class="form-control" required>
                                <option *ngFor = "let m of monthArr" value="{{m}}">{{ m }}</option>
                            </select>
                            <div class="alert alert-danger" *ngIf="month.touched && month.invalid">Выберите активный месяц для тренировки</div>
                        </div>
                    </div>
                    <div class="col align-self-end">
                        <div class="form-group">
                            <label for="year">Год</label>
                            <select #year="ngModel" [(ngModel)] = "activeYear" name = "year" id= "year" type="text" class="form-control" required>
                                <option *ngFor = "let y of yearArr" value="{{y}}">{{ y }}</option>
                            </select>
                            <div class="alert alert-danger" *ngIf="year.touched && year.invalid">Выберите активный год для тренировки</div>
                        </div>
                    </div>
                </div>
            </div>

            <div class = "form-group">
                <label for = "complexity">Уровень сложности</label>
                <select #complexity = "ngModel" [(ngModel)] = "training.complexity" name = "complexity" id = "complexity" type = "text" class="form-control" required>
                    <option value="базовый">базовый</option>
                    <option value="простой">Простой</option>
                    <option value="средний">Средний</option>
                    <option value="сложный">Сложный</option>
                    <option value="богоподобный">Богоподобный</option>
                </select>
                <div class="alert alert-danger" *ngIf="complexity.touched && complexity.invalid">Выберите уровень сложности</div>
            </div>
            <div class = "form-group">
                <label for = "category">Категория</label>
                <select #category = "ngModel" [(ngModel)] = "training.category" name = "category" id = "category" type = "text" class="form-control" required>
                    <option value=""></option>
                    <option *ngFor="let category of categories$ | async" [value] = "category.payload.val().name" >
                        {{ category.payload.val().name }}
                    </option>
                </select>
                <div class="alert alert-danger" *ngIf="category.touched && category.invalid">Выберите категорию тренировки</div>
            </div>
            <div class="form-group">
                <label for="description">Описание</label>
                <textarea #description="ngModel" [(ngModel)] = "training.description" name = "description" id= "description" type="text" class="form-control" required></textarea>
                <div class="alert alert-danger" *ngIf="description.touched && description.invalid">Введите, пожалуйста, описание</div>
            </div>

            <div class="container">
                <div class="row">
                    <div class="col align-self-start">
                        <button [disabled] = "!uploadIsValid" class="btn btn-outline-success">Сохранить</button>
                    </div>
                    <div class="col align-self-end">
                        <button type="button" (click) = "delete()" class="btn btn-outline-warning">Удалить</button>
                    </div>
                </div>
            </div>
        </form>
    </div>
    
</div>